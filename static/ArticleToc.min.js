function loadResource(t,n){if("style"===t){const t=document.createElement("style");t.textContent=n.css,document.head.appendChild(t)}}function createTOC(){const t=document.createElement("div");t.className="toc";const n=document.querySelector(".markdown-body");n.appendChild(t),n.querySelectorAll("h1, h2, h3, h4, h5, h6").forEach(n=>{n.id||(n.id=n.textContent.trim().replace(/\s+/g,"-").toLowerCase());const o=document.createElement("a");o.href="#"+n.id,o.textContent=n.textContent,o.className="toc-link",o.style.marginLeft=`${10*(parseInt(n.tagName.charAt(1))-1)}px`,o.addEventListener("click",function(t){t.preventDefault();const o=document.getElementById(n.id);o&&o.scrollIntoView({behavior:"smooth"})}),t.appendChild(o)})}function toggleTOC(){const t=document.querySelector(".toc"),n=document.querySelector(".toc-icon");t&&(t.classList.toggle("show"),n.classList.toggle("active"),n.innerHTML=t.classList.contains("show")?'<svg viewBox="0 0 24 24"><path d="M18 6L6 18M6 6l12 12"/></svg>':'<svg viewBox="0 0 24 24"><path d="M3 12h18M3 6h18M3 18h18"/></svg>')}document.addEventListener("DOMContentLoaded",function(){createTOC();loadResource("style",{css:"\n\t\t:root {\n\t\t\t--toc-icon-bg: rgba(255, 255, 255, 0.8);\n\t\t\t--toc-icon-color: #333;\n\t\t\t--toc-icon-active-bg: #fff;\n\t\t\t--toc-icon-active-color: #333;\n\t\t}\n\t\t.toc {\n\t\t\tposition: fixed;\n\t\t\tbottom: 80px;\n\t\t\tright: 20px;\n\t\t\twidth: 250px;\n\t\t\tmax-height: 70vh;\n\t\t\tbackground-color: var(--color-neutral-muted);\n\t\t\tborder-radius: 6px;\n\t\t\tpadding: 10px;\n\t\t\tbox-shadow: 0 2px 10px rgba(0,0,0,0.2);\n\t\t\toverflow-y: auto;\n\t\t\tz-index: 1000;\n\t\t\topacity: 0;\n\t\t\tvisibility: hidden;\n\t\t\ttransform: translateY(20px);\n\t\t\ttransition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s;\n\t\t\tbackdrop-filter: blur(90px);\n\t\t}\n\t\t/* 滚动条样式 */\n\t\t.toc::-webkit-scrollbar {\n\t\t\twidth: 4px; \n\t\t}\n\t\t.toc::-webkit-scrollbar-thumb {\n\t\t\tbackground: #9fc6e3;\n\t\t\tborder-radius: 10px;\n\t\t}\n\t\t.toc::-webkit-scrollbar-thumb:hover {\n\t\t\tbackground: #6baedf;\n\t\t}\n\t\t/* 针对 Firefox */\n\t\t.toc {\n\t\t\tscrollbar-width: thin; /* 滚动条宽度：auto 或 thin */\n\t\t\tscrollbar-color: #9fc6e3 transparent; /* 滚动条颜色+轨道颜色(透明) */\n\t\t}\n\t\t.toc.show {\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t\ttransform: translateY(0);\n\t\t}\n\t\t.toc a {\n\t\t\tdisplay: block;\n\t\t\tcolor: var(--fgColor-default);\n\t\t\ttext-decoration: none;\n\t\t\tpadding: 6px;\n\t\t\tfont-size: 14px;\n\t\t\tline-height: 1.5;\n\t\t\tborder-radius: 8px;\n\t\t\ttransition: background-color 0.2s ease;\n\t\t}\n\t\t.toc a:hover {\n\t\t\tbackground-color: #6be5ff99;\n\t\t}\n\t\t.toc-icon {\n\t\t\tposition: fixed;\n\t\t\tbottom: 20px;\n\t\t\tright: 15px;\n\t\t\tcursor: pointer;\n\t\t\tbackground-color: var(--toc-icon-bg);\n\t\t\tcolor: var(--toc-icon-color);\n\t\t\tborder-radius: 50%;\n\t\t\twidth: 50px;\n\t\t\theight: 50px;\n\t\t\tdisplay: flex;\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t\tbox-shadow: 0 2px 10px rgba(0,0,0,0.1);\n\t\t\tz-index: 1001;\n\t\t\ttransition: all 0.3s ease;\n\t\t\tuser-select: none;\n\t\t\t-webkit-tap-highlight-color: transparent;\n\t\t\toutline: none;\n\t\t}\n\t\t.toc-icon:hover {\n\t\t\ttransform: scale(1.1);\n\t\t\tbackground-color: var(--toc-icon-active-bg);\n\t\t}\n\t\t.toc-icon:active {\n\t\t\ttransform: scale(0.9);\n\t\t}\n\t\t.toc-icon.active {\n\t\t\tbackground-color: var(--toc-icon-active-bg);\n\t\t\tcolor: var(--toc-icon-active-color);\n\t\t}\n\t\t.toc-icon svg {\n\t\t\twidth: 24px;\n\t\t\theight: 24px;\n\t\t\tfill: none;\n\t\t\tstroke: currentColor;\n\t\t\tstroke-width: 2;\n\t\t\tstroke-linecap: round;\n\t\t\tstroke-linejoin: round;\n\t\t}\n\n\t\t@media (max-width: 768px) {\n\t\t\t.toc {\n\t\t\t\twidth: 200px;\n\t\t\t\tbottom: 70px;\n\t\t\t\tright: 10px;\n\t\t\t}\n\t\t\t.toc-icon {\n\t\t\t\twidth: 40px;\n\t\t\t\theight: 40px;\n\t\t\t\tbottom: 15px;\n\t\t\t\tright: 15px;\n\t\t\t}\n\t\t\t.toc-icon svg {\n\t\t\t\twidth: 20px;\n\t\t\t\theight: 20px;\n\t\t\t}\n\t\t}\n\n\t\t/* ToTop css */\n\t\t.back-to-top {\n\t\t\tposition: fixed;\n\t\t\tbottom: 80px;\n\t\t\tright: 15px;\n\t\t\tbackground-color: rgba(255, 255, 255, 0.8);\n\t\t\tcolor: #333;\n\t\t\tborder: none;\n\t\t\tborder-radius: 50%;\n\t\t\tcursor: pointer;\n\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\twidth: 50px;\n\t\t\theight: 50px;\n\t\t\tfont-size: 30px;\n\t\t\tz-index: 10000;\n\t\t\ttransform: translateY(20px); /* 初始位置稍微偏下 */\n\t\t\topacity: 0;\n\t\t\tvisibility: hidden;\n\t\t\ttransition: transform 0.3s ease, opacity 0.3s ease, visibility 0s linear 0.3s; /* 过渡效果 */\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t}\n\t\t\n\t\t.back-to-top.show {\n\t\t\ttransform: translateY(0); /* 恢复正常位置 */\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t\ttransition: transform 0.3s ease, opacity 0.3s ease;\n\t\t}\n\t\t\n\t\t.back-to-top:hover {\n\t\t transform: scale(1.1);\n\t\t}\n\t\t.back-to-top svg {\n\t\t width: 24px;\n\t\t height: 24px;\n\t\t}\n\t\t@media (max-width: 768px) {\n\t\t .back-to-top {\n\t\t\twidth: 40px;\n\t\t\theight: 40px;\n\t\t\tfont-size: 20px;\n\t\t }\n\t\t}\n\t\t.toc-link.active-toc {\n\t\t\tbackground-color: #3db9d399;\n\t\t}\n\t"});const t=document.createElement("div");t.className="toc-icon",t.innerHTML='<svg viewBox="0 0 24 24"><path d="M3 12h18M3 6h18M3 18h18"/></svg>',t.onclick=(t=>{t.stopPropagation(),toggleTOC()}),document.body.appendChild(t),document.addEventListener("click",t=>{const n=document.querySelector(".toc");n&&n.classList.contains("show")&&!n.contains(t.target)&&!t.target.classList.contains("toc-icon")&&toggleTOC()});const n=document.createElement("button");function o(){window.pageYOffset>300?n.classList.add("show"):n.classList.remove("show")}n.className="back-to-top",n.innerHTML='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 19V5M5 12l7-7 7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',document.body.appendChild(n),n.addEventListener("click",()=>{window.scrollTo({top:0,behavior:"smooth"})}),window.addEventListener("scroll",o),window.addEventListener("resize",o),o(),document.addEventListener("scroll",function(){const t=document.querySelectorAll(".toc-link"),n=window.scrollY+10;let o=null;t.forEach(t=>{const e=t.getAttribute("href").substring(1),i=document.getElementById(e);i&&i.offsetTop<=n&&(o=t)}),t.forEach(t=>{t.classList.remove("active-toc")}),o&&(o.classList.add("active-toc"),o.scrollIntoView({block:"center",inline:"nearest"}))})});