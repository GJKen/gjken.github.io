function loadResource(t,n){if("style"===t){const t=document.createElement("style");t.textContent=n.css,document.head.appendChild(t)}}function createTOC(){const t=document.createElement("div");t.className="toc",document.body.appendChild(t),document.querySelectorAll(".markdown-body h1, .markdown-body h2, .markdown-body h3, .markdown-body h4, .markdown-body h5, .markdown-body h6").forEach(n=>{n.id||(n.id=n.textContent.trim().replace(/\s+/g,"-").toLowerCase());const o=document.createElement("a");if(o.href=`#${n.id}`,o.textContent=n.textContent,o.className=`toc-link toc-${n.tagName.toLowerCase()}`,"H1"!==n.tagName){const t=parseInt(n.tagName.charAt(1));o.style.marginLeft=`${10*(t-1)}px`}o.addEventListener("click",function(t){t.preventDefault(),document.getElementById(n.id).scrollIntoView({behavior:"smooth"})}),t.appendChild(o)})}function toggleTOC(){const t=document.querySelector(".toc"),n=document.querySelector(".ArticleTOC");t&&n&&(t.classList.toggle("show"),n.classList.toggle("active"),n.style.boxShadow=n.classList.contains("active")?"6px 6px 14px 0 var(--header-btn-shadowColor) inset, -7px -7px 12px 0 var(--header-btn-shadowColor2) inset":"")}document.addEventListener("DOMContentLoaded",function(){createTOC();loadResource("style",{css:"\n\t\t:root {\n\t\t\t--toc-link-bgColor: #ffffffb8;\n\t\t\t--toc-h1-after-bgColor: #1b9dff\n\t\t}\n\t\t[data-color-mode=light][data-light-theme=dark],\n\t\t[data-color-mode=light][data-light-theme=dark]::selection,\n\t\t[data-color-mode=dark][data-dark-theme=dark],\n\t\t[data-color-mode=dark][data-dark-theme=dark]::selection {\n\t\t\t--toc-link-bgColor: #121d23ab;\n\t\t\t--toc-h1-after-bgColor: #43dbff\n\t\t}\n\t\t.toc {\n\t\t\tposition: fixed;\n\t\t\tbottom: 13%;\n\t\t\tright: 0;\n\t\t\ttransform: translateX(50%);\n\t\t\twidth: 250px;\n\t\t\tmax-height: 50vh;\n\t\t\tbackground-color: var(--toc-link-bgColor);\n\t\t\tborder-radius: 10px;\n\t\t\tpadding: 10px;\n\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.2);\n\t\t\toverflow-y: auto;\n\t\t\tz-index: 99;\n\t\t\topacity: 0;\n\t\t\tvisibility: hidden;\n\t\t\ttransition: opacity 0.3s ease, transform 0.3s ease, visibility 0.3s;\n\t\t\tbackdrop-filter: blur(15px);\n\t\t}\n\t\t/* 滚动条样式 */\n\t\t.toc::-webkit-scrollbar {\n\t\t\twidth: 4px; \n\t\t}\n\t\t.toc::-webkit-scrollbar-thumb {\n\t\t\tbackground: #9fc6e3;\n\t\t\tborder-radius: 20px;\n\t\t}\n\t\t.toc::-webkit-scrollbar-thumb:hover {\n\t\t\tbackground: #6baedf;\n\t\t}\n\t\t/* 针对 Firefox */\n\t\t.toc {\n\t\t\tscrollbar-width: thin; /* 滚动条宽度：auto 或 thin */\n\t\t\tscrollbar-color: #9fc6e3 transparent; /* 滚动条颜色+轨道颜色(透明) */\n\t\t}\n\t\t.toc.show {\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t\ttransform: translateY(0);\n\t\t}\n\t\t.toc a {\n\t\t\tdisplay: block;\n\t\t\tcolor: var(--fgColor-default);\n\t\t\ttext-decoration: none;\n\t\t\tpadding: 6px;\n\t\t\tfont-size: 14px;\n\t\t\tline-height: 1.5;\n\t\t\tborder-radius: 8px;\n\t\t\ttransition: background-color 0.2s ease;\n\t\t}\n\t\t.toc a:hover {\n\t\t\tbackground-color: #6be5ff99;\n\t\t}\n\t\t.toc-h1{\n\t\t\tposition: relative;\n\t\t\tpadding-left: 10px;\n\t\t}\n\t\t.toc-h1::after {\n\t\t\tcontent: '';\n\t\t\tposition: absolute;\n\t\t\ttop: 50%;\n\t\t\tleft: 0;\n\t\t\twidth: 3px;\n\t\t\theight: 60%;\n\t\t\tbackground-color: var(--toc-h1-after-bgColor);\n\t\t\ttransform: translateY(-50%);\n\t\t}\n\t\t@media (max-width: 768px) {\n\t\t\t.toc {\n\t\t\t\twidth: 200px;\n\t\t\t\tmax-height: 40vh;\n\t\t\t}\n\t\t}\n\n\t\t.back-to-top {\n\t\t\tposition: fixed;\n\t\t\tbottom: 1%;\n\t\t\tright: 15px;\n\t\t\tbackground-color: rgba(255, 255, 255, 0.8);\n\t\t\tcolor: #333;\n\t\t\tborder: none;\n\t\t\tborder-radius: 50%;\n\t\t\tcursor: pointer;\n\t\t\tbox-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n\t\t\twidth: 50px;\n\t\t\theight: 50px;\n\t\t\tfont-size: 30px;\n\t\t\tz-index: 10000;\n\t\t\ttransform: translateY(20px); /* 初始位置稍微偏下 */\n\t\t\topacity: 0;\n\t\t\tvisibility: hidden;\n\t\t\ttransition: transform 0.3s ease, opacity 0.3s ease, visibility 0s linear 0.3s; /* 过渡效果 */\n\t\t\talign-items: center;\n\t\t\tjustify-content: center;\n\t\t}\n\n\t\t.back-to-top.show {\n\t\t\ttransform: translateY(0); /* 恢复正常位置 */\n\t\t\topacity: 1;\n\t\t\tvisibility: visible;\n\t\t\ttransition: transform 0.3s ease, opacity 0.3s ease;\n\t\t}\n\n\t\t.back-to-top:hover {\n\t\t transform: scale(1.1);\n\t\t}\n\t\t.back-to-top svg {\n\t\t width: 24px;\n\t\t height: 24px;\n\t\t}\n\t\t@media (max-width: 768px) {\n\t\t .back-to-top {\n\t\t\tbottom: 2%;\n\t\t\twidth: 40px;\n\t\t\theight: 40px;\n\t\t\tfont-size: 20px;\n\t\t }\n\t\t}\n\t\t.toc-link.toc-active {\n\t\t\tbackground-color: #3db9d399;\n\t\t\tfont-weight: bold;\n\t\t}\n\t"});const t=document.querySelector(".ArticleTOC");t&&(t.onclick=(t=>{t.stopPropagation(),toggleTOC()})),document.addEventListener("click",t=>{const n=document.querySelector(".toc");n&&n.classList.contains("show")&&!n.contains(t.target)&&!t.target.classList.contains("toc-icon")&&toggleTOC()});const n=document.createElement("button");n.className="back-to-top",n.innerHTML='<svg viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M12 19V5M5 12l7-7 7 7" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>',document.body.appendChild(n),n.addEventListener("click",()=>window.scrollTo({top:0,behavior:"smooth"}));const o=()=>{n.classList.toggle("show",window.pageYOffset>300)};window.addEventListener("scroll",o),window.addEventListener("resize",o),o();document.addEventListener("scroll",()=>{const t=document.querySelectorAll(".toc-link"),n=window.scrollY+10;let o=null;t.forEach(t=>{const e=document.getElementById(t.getAttribute("href").substring(1));e&&e.offsetTop<=n&&(o=t)}),t.forEach(t=>t.classList.remove("toc-active")),o&&(o.classList.add("toc-active"),o.scrollIntoView({block:"center",inline:"nearest"}))})});